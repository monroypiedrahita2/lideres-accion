<div class="px-6 py-6 w-full max-w-4xl mx-auto">
  <div class="mb-8">
    <h2 class="text-3xl font-bold text-gray-800 mb-2">Inscribir Vehículos</h2>
    <p class="text-gray-500">Busca por placa para asignar o eliminar vehículos.</p>
  </div>

  <!-- Search Section -->
  <div class="flex gap-2 items-center justify-end">
    <div class="flex-1">
      <mg-input-text
        [formControl]="searchControl"
        label="Ingrese la placa del vehículo"
        placeholder="Ej: ABC-123"
        [required]="true"
        (keydown.enter)="search()"
      ></mg-input-text>
    </div>
    <button 
      mat-mini-fab 
      color="primary"
      (click)="search()"
      [disabled]="loading || searchControl.invalid"
      class="shadow-lg shadow-primary/30 mb-[22px]"
      aria-label="Buscar"
    >
      <mat-icon *ngIf="!loading">search</mat-icon>
      <mat-icon *ngIf="loading" class="animate-spin">sync</mat-icon>
    </button>
  </div>

  <!-- Results Section -->
  <div *ngIf="vehiculos.length > 0; else noResults" class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div *ngFor="let vehiculo of vehiculos" class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all group">
      <div class="flex justify-between items-start mb-4">
        <div class="flex gap-4">
          <div class="w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-blue-600">
            <mat-icon>directions_car</mat-icon>
          </div>
          <div>
            <h3 class="font-bold text-lg text-gray-800">{{ vehiculo.placa | uppercase }}</h3>
            <p class="text-gray-500 text-sm">{{ vehiculo.marca }} {{ vehiculo.nombreModelo }}</p>
          </div>
        </div>
        <span class="px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
          {{ vehiculo.color }}
        </span>
      </div>

      <div class="border-t border-gray-100 pt-4 mt-2 mb-6 space-y-2">
        <div class="flex items-center gap-3 text-gray-600">
            <mat-icon class="text-gray-400 text-sm">person</mat-icon>
            <span class="text-sm">{{ vehiculo.nombre }} {{ vehiculo.apellidos }}</span>
        </div>
        <div class="flex items-center gap-3 text-gray-600">
            <mat-icon class="text-gray-400 text-sm">smartphone</mat-icon>
            <span class="text-sm font-mono">+57 {{ vehiculo.celular }}</span>
        </div>
      </div>

      <div class="flex gap-3">
        <button 
          (click)="asignar(vehiculo)"
          class="flex-1 py-2.5 rounded-lg border border-transparent bg-blue-600 text-white font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2"
        >
          <mat-icon class="text-sm">add_link</mat-icon>
          Asignar
        </button>
        <button 
          (click)="eliminar(vehiculo)"
          class="flex-1 py-2.5 rounded-lg border border-red-200 text-red-600 bg-red-50 font-medium hover:bg-red-100 transition-colors flex items-center justify-center gap-2"
        >
          <mat-icon class="text-sm">link_off</mat-icon>
          Eliminar
        </button>
      </div>
    </div>
  </div>

  <ng-template #noResults>
    <div *ngIf="hasSearched && !loading" class="text-center py-12">
        <div class="w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400">
            <mat-icon class="text-3xl">search_off</mat-icon>
        </div>
        <h3 class="text-lg font-semibold text-gray-800 mb-1">No se encontraron vehículos</h3>
        <p class="text-gray-500 max-w-md mx-auto">No hay registros asociados a la placa ingresada. Verifica que esté escrita correctamente.</p>
    </div>
  </ng-template>

</div>
