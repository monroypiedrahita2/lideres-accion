<div class="p-6">
  <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
    <h1 class="text-2xl font-bold text-gray-800">Miembros de mi Iglesia</h1>

    <div class="w-full md:w-1/3">
      <mg-input-text class="w-full" label="Buscar por nombre o documento" [formControl]="searchControl"
        placeholder="Buscar..." type="text">
      </mg-input-text>
    </div>
  </div>

  <div class="mat-elevation-z8 overflow-x-auto rounded-lg">
    <table mat-table [dataSource]="dataSource" class="w-full">



      <!-- Nombres Column -->
      <ng-container matColumnDef="nombres">
        <th mat-header-cell *matHeaderCellDef> Nombres </th>
        <td mat-cell *matCellDef="let element"> {{element.nombres}} </td>
      </ng-container>

      <!-- Apellidos Column -->
      <ng-container matColumnDef="apellidos">
        <th mat-header-cell *matHeaderCellDef> Apellidos </th>
        <td mat-cell *matCellDef="let element"> {{element.apellidos}} </td>
      </ng-container>

      <!-- Celular Column -->
      <ng-container matColumnDef="celular">
        <th mat-header-cell *matHeaderCellDef> Celular </th>
        <td mat-cell *matCellDef="let element"> {{element.celular}} </td>
      </ng-container>

      <!-- Rol Column -->
      <ng-container matColumnDef="rol">
        <th mat-header-cell *matHeaderCellDef> Rol </th>
        <td mat-cell *matCellDef="let element">
          <span class="px-2 py-1 rounded-full text-xs font-semibold" [ngClass]="{
                    'bg-blue-100 text-blue-800': element.rol === 'LÃ­der',
                    'bg-green-100 text-green-800': element.rol === 'Pastor' || element.rol === 'Coordinador de iglesia',
                    'bg-gray-100 text-gray-800': !element.rol
                }">
            {{element.rol || 'Sin Rol'}}
          </span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No se encontraron datos que coincidan con "{{searchControl.value}}"</td>
      </tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
  </div>
</div>